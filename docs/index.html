<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R SDK for `AWS Stepfunctions` â€¢ stepfunctions</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="R SDK for `AWS Stepfunctions`">
<meta property="og:description" content="Step Functions Data Science `SDK` for building machine learning (`ML`) workflows and pipelines on `AWS`
             using the R `SDK` `paws`.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">stepfunctions</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="aws-step-functions-data-science-sdk-r" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#aws-step-functions-data-science-sdk-r" class="anchor"></a>aws-step-functions-data-science-sdk-r</h1></div>
<p>Step Functions Data Science SDK for building machine learning (ML) workflows and pipelines on AWS</p>
</div>
<div id="install" class="section level1">
<h1 class="hasAnchor">
<a href="#install" class="anchor"></a>Install:</h1>
<p>Cran Version</p>
<pre><code># TBC</code></pre>
<p>Dev Version</p>
<pre><code><a href="https://remotes.r-lib.org/reference/install_github.html">remotes::install_github("DyfanJones/aws-step-functions-data-science-sdk-r")</a></code></pre>
<div id="building-a-workflow" class="section level2">
<h2 class="hasAnchor">
<a href="#building-a-workflow" class="anchor"></a>Building a Workflow</h2>
<p><strong>Note this example is taken from: <a href="https://github.com/aws/aws-step-functions-data-science-sdk-python" class="uri">https://github.com/aws/aws-step-functions-data-science-sdk-python</a></strong></p>
<div id="steps" class="section level3">
<h3 class="hasAnchor">
<a href="#steps" class="anchor"></a>Steps</h3>
<p>You create steps using the SDK, and chain them together into sequential workflows. Then, you can create those workflows in AWS Step Functions and execute them in Step Functions directly from your R code. For example, the following is how you define a pass step.</p>
<pre><code><a href="https://rdrr.io/r/base/library.html">library(stepfunctions)</a></code></pre>
<pre><code>start_pass_state = Pass$new(
    state_id="MyPassState"
)</code></pre>
<p>The following is how you define a wait step.</p>
<pre><code>wait_state = Wait$new(
    state_id="Wait for 3 seconds",
    seconds=3
)</code></pre>
<p>The following example shows how to define a Lambda step, and then defines a Retry and a Catch.</p>
<pre><code>lambda_state = LambdaStep$new(
  state_id="Convert HelloWorld to Base64",
  parameters=list(
    "FunctionName"="MyLambda", #replace with the name of your function
    "Payload"=list(
      "input"="HelloWorld")
  )
)</code></pre>
<pre><code>lambda_state$add_retry(Retry$new(
  error_equals=list("States.TaskFailed"),
  interval_seconds=15,
  max_attempts=2,
  backoff_rate=4.0
))</code></pre>
<pre><code>lambda_state$add_catch(Catch$new(
  error_equals=list("States.TaskFailed"),
  next_step=Fail$new("LambdaTaskFailed")
))</code></pre>
</div>
<div id="workflows" class="section level3">
<h3 class="hasAnchor">
<a href="#workflows" class="anchor"></a>Workflows</h3>
<p>After you define these steps, chain them together into a logical sequence.</p>
<pre><code>workflow_definition=Chain$new(list(start_pass_state, wait_state, lambda_state))
</code></pre>
<p>Once the steps are chained together, you can define the workflow definition.</p>
<pre><code># change execution role to your execution role
stepfunctions_execution_role="dummy-role"
workflow = Workflow$new(
  name="MyWorkflow_v1234",
  definition=workflow_definition,
  role=stepfunctions_execution_role
)</code></pre>
</div>
<div id="visualizing-a-workflow" class="section level3">
<h3 class="hasAnchor">
<a href="#visualizing-a-workflow" class="anchor"></a>Visualizing a Workflow</h3>
<p>The following generates a graphical representation of your workflow. Please note that visualization currently only works in Jupyter notebooks. Visualization is not available in JupyterLab.</p>
<pre><code>workflow$render_graph()</code></pre>
<p><strong>NOTE:</strong> Currently graphs can only render in jupyter notebook. Rendering graphs in Rstudio is on the todo list :)</p>
</div>
</div>
<div id="review-a-workflow-definition" class="section level2">
<h2 class="hasAnchor">
<a href="#review-a-workflow-definition" class="anchor"></a>Review a Workflow Definition</h2>
<p>The following renders the JSON of the Amazon States Language definition of the workflow you created.</p>
<pre><code>workflow$definition$to_json(pretty=TRUE)</code></pre>
<pre><code>{
  "StartAt": "MyPassState",
  "States": {
    "MyPassState": {
      "Type": "Pass",
      "Next": "Wait for 3 seconds"
    },
    "Wait for 3 seconds": {
      "Seconds": 3,
      "Type": "Wait",
      "Next": "Convert HelloWorld to Base64"
    },
    "Convert HelloWorld to Base64": {
      "Parameters": {
        "FunctionName": "MyLambda",
        "Payload": {
          "input": "HelloWorld"
        }
      },
      "Resource": "arn:aws:states:::lambda:invoke",
      "Type": "Task",
      "End": true,
      "Retry": [
        {
          "Error_equals": [
            "States.TaskFailed"
          ],
          "Interval_seconds": 15,
          "Max_attempts": 2,
          "Backoff_rate": 4
        }
      ],
      "Catch": [
        {
          "Error_equals": "States.TaskFailed",
          "Next": "LambdaTaskFailed"
        }
      ]
    },
    "LambdaTaskFailed": {
      "Type": "Fail"
    }
  }
}</code></pre>
</div>
</div>
<div id="todo-list" class="section level1">
<h1 class="hasAnchor">
<a href="#todo-list" class="anchor"></a>TODO list:</h1>
<ul>
<li>Enable to render graphs in Rstudio</li>
<li>Save rendered graphs</li>
<li>Push to cran</li>
</ul>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>Apache License (&gt;= 2.0)</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Dyfan Jones <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Dyfan Jones.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
